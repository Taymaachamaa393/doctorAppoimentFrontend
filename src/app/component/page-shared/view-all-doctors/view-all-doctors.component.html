<!-- <div class="container doctorPage mt-5">
  <div class="row g-4 justify-content-center my-5 py-5"> -->
    <!-- استخدم *ngFor لإنشاء البطاقات -->
    <!-- <div class="col-lg-4 col-md-6 col-12" *ngFor="let doctor of doctorsPublic">
      <div class="doctor-card p-4 border rounded shadow-sm text-center h-100 position-relative transition-card"> -->
        <!-- بيانات الطبيب -->
        <!-- <h3 class="fw-bold text-primary">{{ doctor.id }}</h3>
        <h3 class="fw-bold text-primary">{{ doctor.name }}</h3>
        <p class="text-muted">التخصص: {{ doctor.specialization }}</p>
        <p>
          التوثيق:
          <span [ngClass]="{'text-success': doctor.is_verified, 'text-danger': !doctor.is_verified}">
            {{ doctor.is_verified ? 'موثق' : 'غير موثق' }}
          </span>
        </p> -->


        <!-- عرض التقييمات -->
        <!-- <div class="mt-3">
          <h5>تقييمات المرضى:</h5>
          <div *ngIf="doctor.ratings && doctor.ratings.length > 0">
            <div *ngFor="let rating of doctor.ratings" class="mb-2">
              <p>
                <strong>تقييم:</strong>
                <span [innerHTML]="getStarRating(rating.rating)" class="text-warning"></span>
              </p>
              <p class="text-muted mb-1">{{ rating.review }}</p>
              <small class="text-muted">بتاريخ: {{ rating.created_at | date }}</small>
            </div>
          </div>
          <div *ngIf="!doctor.ratings || doctor.ratings.length === 0">
            <p class="text-muted">لا يوجد تقييمات.</p>
          </div>
        </div> -->

        
        <!-- نافذة التقييم -->
        <!-- <div *ngIf="selectedDoctorId" class="modal">
          <h3>إضافة تقييم</h3>
          <label>⭐ التقييم:</label>
          <select [(ngModel)]="newRating.rating">
            <option *ngFor="let star of [1,2,3,4,5]" [value]="star">{{ star }}</option>
          </select>
        
          <label>💬 المراجعة:</label>
          <textarea [(ngModel)]="newRating.review"></textarea>
        
          <button (click)="submitRating()">إرسال</button>
          <button (click)="selectedDoctorId = null">إغلاق</button>
        </div> -->
        
        <!-- أزرار الحجز والتقييم -->
        <!-- <div class="d-flex justify-content-center gap-2 mt-4">
          <button class="btn btn-red w-100" (click)="bookAppointment(doctor.id)">حجز موعد</button>
          <button class="btn btn-blue w-100" (click)="rateDoctor(doctor.id)">تقييم الطبيب</button>
        </div> -->
      <!-- </div>
    </div>
  </div>
</div> -->




<div class="container doctorPage my-5">
  <!-- Search bar and navigation to the search page -->
  <div class="d-flex justify-content-between align-items-center  ">
    <div>
      <h2 class="text-primary fw-bold mb-0">Available Doctors</h2>
      <p class="text-muted mb-0">Find the right doctor for your needs</p>
    </div>
    <button class="btn btn-primary d-flex align-items-center gap-2 px-4 py-2" (click)="goToSearchDoctors()">
      <i class="fas fa-search"></i> <span>Search for a Doctor</span>
    </button>
  </div>

  <!-- Display loader while data is loading -->
  <div *ngIf="loading" class="text-center my-5">
    <!-- Multi-colored spinner -->
    <div class="multi-spinner">
      <div class="dot dot-1"></div>
      <div class="dot dot-2"></div>
      <div class="dot dot-3"></div>
    </div>
    <p class="mt-3 text-muted">Fetching doctors' data... Please wait</p>
  </div>

  <!-- Display list of doctors -->
  <div class="row g-4 justify-content-center my-3" *ngIf="!loading">
    <div class="col-lg-4 col-md-6 col-12" *ngFor="let doctor of doctorsPublic">
      <div class="doctor-card p-4 border rounded shadow-sm text-center h-100 position-relative">
        <h3 class="fw-bold text-primary">{{ doctor.name }}</h3>
        <p class="text-muted">Specialization: {{ doctor.specialization }}</p>
        <p>
          Verification:
          <span [ngClass]="{'text-success': doctor.is_verified, 'text-danger': !doctor.is_verified}">
            {{ doctor.is_verified ? 'Verified' : 'Not Verified' }}
          </span>
        </p>
        <button class="btn btn-info w-100 mt-3" (click)="viewDoctorDetails(doctor.id)">
          View Details
        </button>
      </div>
    </div>
  </div>
</div>

